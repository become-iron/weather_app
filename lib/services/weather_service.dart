import 'dart:convert' show jsonDecode;

import 'package:geolocator/geolocator.dart' show Position;
import 'package:http/http.dart' as http;

// Docs: https://openweathermap.org/forecast5

final responseDump = jsonDecode(
    '{"cod":"200","message":0,"cnt":40,"list":[{"dt":1729825200,"main":{"temp":292.29,"feels_like":291.38,"temp_min":290.68,"temp_max":292.29,"pressure":1013,"sea_level":1013,"grnd_level":1013,"humidity":43,"temp_kf":1.61},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":0},"wind":{"speed":1.36,"deg":330,"gust":2.23},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-25 03:00:00"},{"dt":1729836000,"main":{"temp":291.29,"feels_like":290.23,"temp_min":289.29,"temp_max":291.29,"pressure":1013,"sea_level":1013,"grnd_level":1013,"humidity":41,"temp_kf":2},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":1},"wind":{"speed":0.46,"deg":120,"gust":0.67},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-25 06:00:00"},{"dt":1729846800,"main":{"temp":289.86,"feels_like":288.6,"temp_min":288.65,"temp_max":289.86,"pressure":1014,"sea_level":1014,"grnd_level":1013,"humidity":39,"temp_kf":1.21},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":2},"wind":{"speed":0.44,"deg":82,"gust":0.71},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-25 09:00:00"},{"dt":1729857600,"main":{"temp":288.15,"feels_like":286.67,"temp_min":288.15,"temp_max":288.15,"pressure":1014,"sea_level":1014,"grnd_level":1013,"humidity":37,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":5},"wind":{"speed":0.49,"deg":133,"gust":0.78},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-25 12:00:00"},{"dt":1729868400,"main":{"temp":288.53,"feels_like":287.04,"temp_min":288.53,"temp_max":288.53,"pressure":1014,"sea_level":1014,"grnd_level":1014,"humidity":35,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":96},"wind":{"speed":0.76,"deg":130,"gust":0.98},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-25 15:00:00"},{"dt":1729879200,"main":{"temp":295.36,"feels_like":294.29,"temp_min":295.36,"temp_max":295.36,"pressure":1015,"sea_level":1015,"grnd_level":1015,"humidity":25,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":97},"wind":{"speed":0.84,"deg":137,"gust":1.65},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-25 18:00:00"},{"dt":1729890000,"main":{"temp":298.51,"feels_like":297.65,"temp_min":298.51,"temp_max":298.51,"pressure":1015,"sea_level":1015,"grnd_level":1014,"humidity":21,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":81},"wind":{"speed":1.88,"deg":322,"gust":2.2},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-25 21:00:00"},{"dt":1729900800,"main":{"temp":296.7,"feels_like":295.74,"temp_min":296.7,"temp_max":296.7,"pressure":1015,"sea_level":1015,"grnd_level":1015,"humidity":24,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":{"all":46},"wind":{"speed":2.85,"deg":311,"gust":3.39},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-26 00:00:00"},{"dt":1729911600,"main":{"temp":290.73,"feels_like":289.56,"temp_min":290.73,"temp_max":290.73,"pressure":1017,"sea_level":1017,"grnd_level":1017,"humidity":39,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":85},"wind":{"speed":1.41,"deg":297,"gust":2.12},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-26 03:00:00"},{"dt":1729922400,"main":{"temp":289.02,"feels_like":287.76,"temp_min":289.02,"temp_max":289.02,"pressure":1019,"sea_level":1019,"grnd_level":1018,"humidity":42,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":55},"wind":{"speed":0.29,"deg":315,"gust":0.92},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-26 06:00:00"},{"dt":1729933200,"main":{"temp":288.3,"feels_like":286.92,"temp_min":288.3,"temp_max":288.3,"pressure":1019,"sea_level":1019,"grnd_level":1018,"humidity":40,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":6},"wind":{"speed":0.14,"deg":66,"gust":0.55},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-26 09:00:00"},{"dt":1729944000,"main":{"temp":287.85,"feels_like":286.37,"temp_min":287.85,"temp_max":287.85,"pressure":1018,"sea_level":1018,"grnd_level":1018,"humidity":38,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":22},"wind":{"speed":0.78,"deg":10,"gust":0.85},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-26 12:00:00"},{"dt":1729954800,"main":{"temp":287.97,"feels_like":286.5,"temp_min":287.97,"temp_max":287.97,"pressure":1019,"sea_level":1019,"grnd_level":1019,"humidity":38,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":63},"wind":{"speed":0.39,"deg":40,"gust":0.67},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-26 15:00:00"},{"dt":1729965600,"main":{"temp":293.91,"feels_like":292.72,"temp_min":293.91,"temp_max":293.91,"pressure":1019,"sea_level":1019,"grnd_level":1019,"humidity":26,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":75},"wind":{"speed":0.98,"deg":351,"gust":1.28},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-26 18:00:00"},{"dt":1729976400,"main":{"temp":297.22,"feels_like":296.23,"temp_min":297.22,"temp_max":297.22,"pressure":1018,"sea_level":1018,"grnd_level":1017,"humidity":21,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":1.76,"deg":315,"gust":1.83},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-26 21:00:00"},{"dt":1729987200,"main":{"temp":295.22,"feels_like":294.19,"temp_min":295.22,"temp_max":295.22,"pressure":1017,"sea_level":1017,"grnd_level":1017,"humidity":27,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":2.41,"deg":317,"gust":3.63},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-27 00:00:00"},{"dt":1729998000,"main":{"temp":291.06,"feels_like":290.37,"temp_min":291.06,"temp_max":291.06,"pressure":1018,"sea_level":1018,"grnd_level":1018,"humidity":56,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":1.38,"deg":306,"gust":2.27},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-27 03:00:00"},{"dt":1730008800,"main":{"temp":290.41,"feels_like":290.25,"temp_min":290.41,"temp_max":290.41,"pressure":1019,"sea_level":1019,"grnd_level":1018,"humidity":79,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":1.27,"deg":302,"gust":1.99},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-27 06:00:00"},{"dt":1730019600,"main":{"temp":289.94,"feels_like":289.89,"temp_min":289.94,"temp_max":289.94,"pressure":1019,"sea_level":1019,"grnd_level":1018,"humidity":85,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":0.37,"deg":244,"gust":0.61},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-27 09:00:00"},{"dt":1730030400,"main":{"temp":289.35,"feels_like":289.32,"temp_min":289.35,"temp_max":289.35,"pressure":1018,"sea_level":1018,"grnd_level":1018,"humidity":88,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":0.63,"deg":266,"gust":0.91},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-27 12:00:00"},{"dt":1730041200,"main":{"temp":289.26,"feels_like":289.22,"temp_min":289.26,"temp_max":289.26,"pressure":1019,"sea_level":1019,"grnd_level":1018,"humidity":88,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":99},"wind":{"speed":0.79,"deg":184,"gust":1.01},"visibility":10000,"pop":0.01,"sys":{"pod":"d"},"dt_txt":"2024-10-27 15:00:00"},{"dt":1730052000,"main":{"temp":293.18,"feels_like":293.12,"temp_min":293.18,"temp_max":293.18,"pressure":1019,"sea_level":1019,"grnd_level":1019,"humidity":72,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":94},"wind":{"speed":1.63,"deg":293,"gust":2.58},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-27 18:00:00"},{"dt":1730062800,"main":{"temp":294.99,"feels_like":294.77,"temp_min":294.99,"temp_max":294.99,"pressure":1017,"sea_level":1017,"grnd_level":1017,"humidity":59,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"clouds":{"all":83},"wind":{"speed":3,"deg":300,"gust":4.5},"visibility":10000,"pop":0.2,"rain":{"3h":0.11},"sys":{"pod":"d"},"dt_txt":"2024-10-27 21:00:00"},{"dt":1730073600,"main":{"temp":292.19,"feels_like":291.82,"temp_min":292.19,"temp_max":292.19,"pressure":1017,"sea_level":1017,"grnd_level":1017,"humidity":64,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":79},"wind":{"speed":3.99,"deg":286,"gust":5.42},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-28 00:00:00"},{"dt":1730084400,"main":{"temp":287.81,"feels_like":287.5,"temp_min":287.81,"temp_max":287.81,"pressure":1019,"sea_level":1019,"grnd_level":1019,"humidity":83,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"clouds":{"all":49},"wind":{"speed":3.09,"deg":294,"gust":5.37},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-28 03:00:00"},{"dt":1730095200,"main":{"temp":286.35,"feels_like":285.79,"temp_min":286.35,"temp_max":286.35,"pressure":1019,"sea_level":1019,"grnd_level":1019,"humidity":79,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"clouds":{"all":34},"wind":{"speed":2.36,"deg":281,"gust":4.65},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-28 06:00:00"},{"dt":1730106000,"main":{"temp":285.47,"feels_like":284.87,"temp_min":285.47,"temp_max":285.47,"pressure":1019,"sea_level":1019,"grnd_level":1018,"humidity":81,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":2},"wind":{"speed":2.06,"deg":277,"gust":4.91},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-28 09:00:00"},{"dt":1730116800,"main":{"temp":285.07,"feels_like":284.56,"temp_min":285.07,"temp_max":285.07,"pressure":1018,"sea_level":1018,"grnd_level":1018,"humidity":86,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":3},"wind":{"speed":1.3,"deg":261,"gust":3.17},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-28 12:00:00"},{"dt":1730127600,"main":{"temp":285.18,"feels_like":284.68,"temp_min":285.18,"temp_max":285.18,"pressure":1019,"sea_level":1019,"grnd_level":1018,"humidity":86,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":{"all":29},"wind":{"speed":1.29,"deg":258,"gust":2.95},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-28 15:00:00"},{"dt":1730138400,"main":{"temp":289.44,"feels_like":288.61,"temp_min":289.44,"temp_max":289.44,"pressure":1019,"sea_level":1019,"grnd_level":1018,"humidity":57,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02d"}],"clouds":{"all":23},"wind":{"speed":3.69,"deg":298,"gust":5.94},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-28 18:00:00"},{"dt":1730149200,"main":{"temp":290.91,"feels_like":290.02,"temp_min":290.91,"temp_max":290.91,"pressure":1017,"sea_level":1017,"grnd_level":1016,"humidity":49,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02d"}],"clouds":{"all":15},"wind":{"speed":5.05,"deg":297,"gust":6.72},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-28 21:00:00"},{"dt":1730160000,"main":{"temp":288.91,"feels_like":288.06,"temp_min":288.91,"temp_max":288.91,"pressure":1016,"sea_level":1016,"grnd_level":1016,"humidity":58,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":9},"wind":{"speed":5.21,"deg":284,"gust":7.32},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-29 00:00:00"},{"dt":1730170800,"main":{"temp":285.64,"feels_like":284.96,"temp_min":285.64,"temp_max":285.64,"pressure":1017,"sea_level":1017,"grnd_level":1016,"humidity":77,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":4},"wind":{"speed":3.16,"deg":277,"gust":6.15},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-29 03:00:00"},{"dt":1730181600,"main":{"temp":284.62,"feels_like":283.89,"temp_min":284.62,"temp_max":284.62,"pressure":1016,"sea_level":1016,"grnd_level":1016,"humidity":79,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":3},"wind":{"speed":1.74,"deg":278,"gust":3.03},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-29 06:00:00"},{"dt":1730192400,"main":{"temp":284.06,"feels_like":283.32,"temp_min":284.06,"temp_max":284.06,"pressure":1016,"sea_level":1016,"grnd_level":1016,"humidity":81,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":0},"wind":{"speed":1.01,"deg":274,"gust":1.79},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-29 09:00:00"},{"dt":1730203200,"main":{"temp":283.49,"feels_like":282.69,"temp_min":283.49,"temp_max":283.49,"pressure":1016,"sea_level":1016,"grnd_level":1016,"humidity":81,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":0},"wind":{"speed":0.71,"deg":261,"gust":1.2},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2024-10-29 12:00:00"},{"dt":1730214000,"main":{"temp":283.2,"feels_like":282.38,"temp_min":283.2,"temp_max":283.2,"pressure":1018,"sea_level":1018,"grnd_level":1017,"humidity":81,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":0.27,"deg":272,"gust":0.79},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-29 15:00:00"},{"dt":1730224800,"main":{"temp":289,"feels_like":287.97,"temp_min":289,"temp_max":289,"pressure":1018,"sea_level":1018,"grnd_level":1018,"humidity":51,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":1.37,"deg":303,"gust":1.7},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-29 18:00:00"},{"dt":1730235600,"main":{"temp":291.45,"feels_like":290.35,"temp_min":291.45,"temp_max":291.45,"pressure":1017,"sea_level":1017,"grnd_level":1017,"humidity":39,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":2.79,"deg":312,"gust":2.59},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-29 21:00:00"},{"dt":1730246400,"main":{"temp":289.47,"feels_like":288.44,"temp_min":289.47,"temp_max":289.47,"pressure":1017,"sea_level":1017,"grnd_level":1016,"humidity":49,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":3.74,"deg":299,"gust":4.12},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2024-10-30 00:00:00"}],"city":{"id":5375480,"name":"Mountain View","coord":{"lat":37.4234,"lon":-122.084},"country":"US","population":74066,"timezone":-25200,"sunrise":1729779929,"sunset":1729819148}}');

// class FiveDayWeatherForecastResponse {
//   final int cod;
//   final int message;
//   final int cntA;
//   final int list;
//   final Map city;
// }

// class FiveDayWeatherForecastResponseList {}

class WeatherService {
  static final client = http.Client();
  static const weatherServiceHost = 'api.openweathermap.org';

  static Future<Map> getWeatherData(Position position) async {
    // TODO: temp
    return responseDump;
    // final http.Response response;
    // try {
    //   response = await client.get(Uri.https(
    //     weatherServiceHost,
    //     '/data/2.5/forecast',
    //     {
    //       'lat': '${position.latitude}',
    //       'lon': '${position.longitude}',
    //       'appid': AppConfig.weatherService.appId,
    //     },
    //   ));
    // } finally {
    //   client.close();
    // }
    //
    // return jsonDecode(response.body) as Map;
  }
}
